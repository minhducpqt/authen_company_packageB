{% extends "base.html" %}
{% block title %}Users{% endblock %}
{% block content %}
<h1>Users</h1>

<form method="post" action="/accounts/users/create" class="card">
  <h3>Create user</h3>
  <div class="row">
    <label>Username</label>
    <input name="username" placeholder="vd: linhnguyen" required />
  </div>
  <div class="row">
    <label>Password</label>
    <input name="password" type="password" required />
  </div>
  <div class="row">
    <label>Role</label>
    <select name="role" required>
      <option value="COMPANY_ADMIN">COMPANY_ADMIN</option>
      <option value="STAFF">STAFF</option>
      <option value="VIEWER">VIEWER</option>
    </select>
  </div>
  <button type="submit">Create</button>
  <p class="hint">Với Company Admin: username sẽ tự prepended với <code>{{ me.company_code }}.</code></p>
</form>

<table class="table">
  <thead>
    <tr><th>ID</th><th>Username</th><th>Role</th><th>Company</th><th>Status</th><th></th></tr>
  </thead>
  <tbody>
    {% for u in users %}
    <tr>
      <td>{{ u.id }}</td>
      <td><a href="/accounts/users/{{ u.id }}">{{ u.username }}</a></td>
      <td>{{ u.role }}</td>
      <td>{{ u.company_code }}</td>
      <td>{% if u.is_active %}Active{% else %}<span class="muted">Disabled</span>{% endif %}</td>
      <td><a href="/accounts/users/{{ u.id }}">Manage</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
